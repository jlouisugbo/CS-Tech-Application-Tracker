"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./app/lib/hooks.ts":
/*!**************************!*\
  !*** ./app/lib/hooks.ts ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; },\n/* harmony export */   useFilterOptions: function() { return /* binding */ useFilterOptions; },\n/* harmony export */   useInternshipStats: function() { return /* binding */ useInternshipStats; },\n/* harmony export */   useInternships: function() { return /* binding */ useInternships; },\n/* harmony export */   useIsSaved: function() { return /* binding */ useIsSaved; },\n/* harmony export */   useSavedInternships: function() { return /* binding */ useSavedInternships; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _supabaseClient__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./supabaseClient */ \"(app-pages-browser)/./app/lib/supabaseClient.ts\");\n/* harmony import */ var _sample_data_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./sample-data.json */ \"(app-pages-browser)/./app/lib/sample-data.json\");\n\n\n// Temporarily import sample data for testing\n\n// Hook for fetching internships with filters\nfunction useInternships(filters) {\n    const [internships, setInternships] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchInternships = async ()=>{\n            try {\n                setLoading(true);\n                setError(null);\n                // Fetch from Supabase database\n                const { data, error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"internships\").select(\"*\").eq(\"is_active\", true).order(\"created_at\", {\n                    ascending: false\n                });\n                let filtered = [];\n                if (error) {\n                    console.error(\"Error fetching internships:\", error);\n                    // Fallback to sample data if database fails\n                    console.log(\"Falling back to sample data\");\n                    const formattedInternships = _sample_data_json__WEBPACK_IMPORTED_MODULE_2__.internships.map((internship, index)=>({\n                            ...internship,\n                            id: \"sample_\".concat(index),\n                            is_active: true,\n                            last_seen: new Date().toISOString(),\n                            created_at: new Date().toISOString()\n                        }));\n                    filtered = formattedInternships;\n                } else {\n                    console.log(\"Successfully loaded \".concat((data === null || data === void 0 ? void 0 : data.length) || 0, \" internships from database\"));\n                    filtered = data || [];\n                }\n                // Apply client-side filters\n                if (filters.category && filters.category !== \"All\") {\n                    filtered = filtered.filter((i)=>i.category === filters.category);\n                }\n                if (filters.citizenship && filters.citizenship === \"no_citizenship\") {\n                    filtered = filtered.filter((i)=>!i.requires_citizenship);\n                }\n                if (filters.sponsorship && filters.sponsorship === \"sponsorship_ok\") {\n                    filtered = filtered.filter((i)=>!i.no_sponsorship);\n                }\n                if (filters.freshman_friendly) {\n                    filtered = filtered.filter((i)=>i.is_freshman_friendly);\n                }\n                if (filters.location && filters.location !== \"All\") {\n                    filtered = filtered.filter((i)=>i.locations.some((loc)=>loc.toLowerCase().includes(filters.location.toLowerCase())));\n                }\n                if (filters.company && filters.company !== \"All\") {\n                    filtered = filtered.filter((i)=>i.company.toLowerCase().includes(filters.company.toLowerCase()));\n                }\n                if (filters.date_posted && filters.date_posted !== \"All\") {\n                    filtered = filtered.filter((i)=>i.date_posted === filters.date_posted);\n                }\n                // Apply sorting with priority for open internships\n                filtered.sort((a, b)=>{\n                    // First priority: Open internships come before closed ones\n                    if (a.is_closed !== b.is_closed) {\n                        return a.is_closed ? 1 : -1; // Open (false) comes first\n                    }\n                    // Second priority: Apply user-selected sorting\n                    switch(filters.sort_by){\n                        case \"date_newest\":\n                            // Sort by date posted (newest first) - parse \"Sep 02\" format\n                            const dateA = new Date(\"\".concat(a.date_posted, \" 2025\")).getTime();\n                            const dateB = new Date(\"\".concat(b.date_posted, \" 2025\")).getTime();\n                            return dateB - dateA;\n                        case \"date_oldest\":\n                            const dateA2 = new Date(\"\".concat(a.date_posted, \" 2025\")).getTime();\n                            const dateB2 = new Date(\"\".concat(b.date_posted, \" 2025\")).getTime();\n                            return dateA2 - dateB2;\n                        case \"company_az\":\n                            return a.company.localeCompare(b.company);\n                        case \"company_za\":\n                            return b.company.localeCompare(a.company);\n                        default:\n                            return 0;\n                    }\n                });\n                setInternships(filtered);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"Failed to fetch internships\");\n                setInternships([]);\n            } finally{\n                setLoading(false);\n            }\n        };\n        // Simulate network delay\n        setTimeout(fetchInternships, 300);\n    }, [\n        filters.category,\n        filters.location,\n        filters.citizenship,\n        filters.sponsorship,\n        filters.freshman_friendly,\n        filters.company,\n        filters.date_posted,\n        filters.sort_by,\n        filters.view_mode\n    ]);\n    return {\n        internships,\n        loading,\n        error,\n        refetch: ()=>{}\n    };\n}\n// Hook for authentication\nfunction useAuth() {\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        // Get initial session\n        const getSession = async ()=>{\n            try {\n                const { data: { session } } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.getSession();\n                if (session === null || session === void 0 ? void 0 : session.user) {\n                    // Fetch user profile\n                    const { data: profile } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"users\").select(\"*\").eq(\"id\", session.user.id).single();\n                    setUser(profile);\n                }\n            } catch (error) {\n                console.error(\"Error getting session:\", error);\n            } finally{\n                setLoading(false);\n            }\n        };\n        getSession();\n        // Listen for auth changes\n        const { data: { subscription } } = _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.onAuthStateChange(async (event, session)=>{\n            if (session === null || session === void 0 ? void 0 : session.user) {\n                const { data: profile } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"users\").select(\"*\").eq(\"id\", session.user.id).single();\n                setUser(profile);\n            } else {\n                setUser(null);\n            }\n            setLoading(false);\n        });\n        return ()=>subscription.unsubscribe();\n    }, []);\n    const signIn = async (email, password)=>{\n        const { error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.signInWithPassword({\n            email,\n            password\n        });\n        return {\n            error\n        };\n    };\n    const signUp = async (email, password)=>{\n        const { error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.signUp({\n            email,\n            password,\n            options: {\n                emailRedirectTo: \"\".concat(window.location.origin, \"/\")\n            }\n        });\n        return {\n            error\n        };\n    };\n    const signOut = async ()=>{\n        const { error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.auth.signOut();\n        return {\n            error\n        };\n    };\n    return {\n        user,\n        loading,\n        signIn,\n        signUp,\n        signOut\n    };\n}\n// Hook for saved internships\nfunction useSavedInternships() {\n    const [savedInternships, setSavedInternships] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchSavedInternships = async ()=>{\n            try {\n                setLoading(true);\n                setError(null);\n                const { data, error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"user_saved_internships\").select(\"\\n            *,\\n            internships (\\n              company,\\n              role,\\n              category,\\n              locations,\\n              application_link,\\n              date_posted\\n            )\\n          \").order(\"saved_at\", {\n                    ascending: false\n                });\n                if (error) throw error;\n                setSavedInternships(data || []);\n            } catch (err) {\n                setError(err instanceof Error ? err.message : \"Failed to fetch saved internships\");\n                setSavedInternships([]);\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchSavedInternships();\n    }, []);\n    const saveInternship = async (internshipId, notes)=>{\n        try {\n            const { error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"user_saved_internships\").insert({\n                internship_id: internshipId,\n                notes,\n                application_status: \"saved\"\n            });\n            if (error) throw error;\n            // Refresh saved internships\n            const { data } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"user_saved_internships\").select(\"\\n          *,\\n          internships (\\n            company,\\n            role,\\n            category,\\n            locations,\\n            application_link,\\n            date_posted\\n          )\\n        \").order(\"saved_at\", {\n                ascending: false\n            });\n            setSavedInternships(data || []);\n            return {\n                success: true\n            };\n        } catch (error) {\n            return {\n                error: error instanceof Error ? error.message : \"Failed to save internship\"\n            };\n        }\n    };\n    const unsaveInternship = async (internshipId)=>{\n        try {\n            const { error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"user_saved_internships\").delete().eq(\"internship_id\", internshipId);\n            if (error) throw error;\n            setSavedInternships((prev)=>prev.filter((saved)=>saved.internship_id !== internshipId));\n            return {\n                success: true\n            };\n        } catch (error) {\n            return {\n                error: error instanceof Error ? error.message : \"Failed to unsave internship\"\n            };\n        }\n    };\n    const updateApplicationStatus = async (internshipId, status)=>{\n        try {\n            const updateData = {\n                application_status: status\n            };\n            // Add timestamp for applied status\n            if (status === \"applied\") {\n                updateData.applied_at = new Date().toISOString();\n            }\n            const { error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"user_saved_internships\").update(updateData).eq(\"internship_id\", internshipId);\n            if (error) throw error;\n            setSavedInternships((prev)=>prev.map((saved)=>saved.internship_id === internshipId ? {\n                        ...saved,\n                        ...updateData\n                    } : saved));\n            return {\n                success: true\n            };\n        } catch (error) {\n            return {\n                error: error instanceof Error ? error.message : \"Failed to update status\"\n            };\n        }\n    };\n    const addNote = async (internshipId, note)=>{\n        try {\n            const { error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"user_saved_internships\").update({\n                notes: note\n            }).eq(\"internship_id\", internshipId);\n            if (error) throw error;\n            setSavedInternships((prev)=>prev.map((saved)=>saved.internship_id === internshipId ? {\n                        ...saved,\n                        notes: note\n                    } : saved));\n            return {\n                success: true\n            };\n        } catch (error) {\n            return {\n                error: error instanceof Error ? error.message : \"Failed to add note\"\n            };\n        }\n    };\n    const markLinkClicked = async (savedInternshipId)=>{\n        try {\n            const { error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"user_saved_internships\").update({\n                application_link_clicked_at: new Date().toISOString(),\n                link_verified: true\n            }).eq(\"id\", savedInternshipId);\n            if (error) throw error;\n            setSavedInternships((prev)=>prev.map((saved)=>saved.id === savedInternshipId ? {\n                        ...saved,\n                        application_link_clicked_at: new Date().toISOString(),\n                        link_verified: true\n                    } : saved));\n            return {\n                success: true\n            };\n        } catch (error) {\n            return {\n                error: error instanceof Error ? error.message : \"Failed to mark link clicked\"\n            };\n        }\n    };\n    return {\n        savedInternships,\n        loading,\n        error,\n        saveInternship,\n        unsaveInternship,\n        updateApplicationStatus,\n        addNote,\n        markLinkClicked\n    };\n}\n// Hook for getting internship stats\nfunction useInternshipStats() {\n    const [stats, setStats] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchStats = async ()=>{\n            try {\n                setLoading(true);\n                // Get total count\n                const { count: totalCount } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"internships\").select(\"*\", {\n                    count: \"exact\",\n                    head: true\n                }).eq(\"is_active\", true);\n                // Get freshman-friendly count\n                const { count: freshmanCount } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"internships\").select(\"*\", {\n                    count: \"exact\",\n                    head: true\n                }).eq(\"is_active\", true).eq(\"is_freshman_friendly\", true);\n                // Get category breakdown\n                const { data: categories } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.rpc(\"get_category_counts\");\n                setStats({\n                    total_active: totalCount || 0,\n                    freshman_friendly_count: freshmanCount || 0,\n                    categories: categories || [],\n                    last_updated: new Date().toISOString()\n                });\n            } catch (error) {\n                console.error(\"Error fetching stats:\", error);\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchStats();\n    }, []);\n    return {\n        stats,\n        loading\n    };\n}\n// Hook to check if internship is saved by current user\nfunction useIsSaved(internshipId) {\n    const [isSaved, setIsSaved] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const checkIfSaved = async ()=>{\n            try {\n                // Remove .single() to avoid 406 errors - just check if any data exists\n                const { data, error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"user_saved_internships\").select(\"id\").eq(\"internship_id\", internshipId).limit(1);\n                // Only consider it an error if it's not a \"no rows\" error\n                if (error && error.code !== \"PGRST116\") {\n                    console.error(\"Error checking saved status:\", error);\n                }\n                setIsSaved(Boolean(data && data.length > 0));\n            } catch (error) {\n                // Silently handle errors - assume not saved\n                setIsSaved(false);\n            } finally{\n                setLoading(false);\n            }\n        };\n        if (internshipId && internshipId !== \"sample_\") {\n            checkIfSaved();\n        } else {\n            // Don't query for invalid IDs\n            setIsSaved(false);\n            setLoading(false);\n        }\n    }, [\n        internshipId\n    ]);\n    return {\n        isSaved,\n        loading\n    };\n}\n// Hook to extract dynamic filter options from data\nfunction useFilterOptions() {\n    const [companies, setCompanies] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([\n        \"All\"\n    ]);\n    const [locations, setLocations] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([\n        \"All\"\n    ]);\n    const [datePosted, setDatePosted] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([\n        \"All\"\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const fetchOptions = async ()=>{\n            try {\n                // Fetch from Supabase database\n                const { data, error } = await _supabaseClient__WEBPACK_IMPORTED_MODULE_1__.supabase.from(\"internships\").select(\"company, locations, date_posted\").eq(\"is_active\", true);\n                if (error || !data) {\n                    // Fallback to sample data\n                    const uniqueCompanies = new Set();\n                    const uniqueLocations = new Set();\n                    const uniqueDates = new Set();\n                    _sample_data_json__WEBPACK_IMPORTED_MODULE_2__.internships.forEach((internship)=>{\n                        uniqueCompanies.add(internship.company);\n                        // Add each location\n                        internship.locations.forEach((location)=>{\n                            if (location.trim() && !location.includes(\"locations\")) {\n                                uniqueLocations.add(location.trim());\n                            }\n                        });\n                        uniqueDates.add(internship.date_posted);\n                    });\n                    // Sort and set options\n                    setCompanies([\n                        \"All\",\n                        ...Array.from(uniqueCompanies).sort()\n                    ]);\n                    setLocations([\n                        \"All\",\n                        ...Array.from(uniqueLocations).sort()\n                    ]);\n                    setDatePosted([\n                        \"All\",\n                        ...Array.from(uniqueDates).sort()\n                    ]);\n                    return;\n                }\n                // Extract unique values from database\n                const uniqueCompanies = new Set();\n                const uniqueLocations = new Set();\n                const uniqueDates = new Set();\n                data.forEach((internship)=>{\n                    var // Add each location\n                    _internship_locations;\n                    uniqueCompanies.add(internship.company);\n                    (_internship_locations = internship.locations) === null || _internship_locations === void 0 ? void 0 : _internship_locations.forEach((location)=>{\n                        if (location.trim() && !location.includes(\"locations\")) {\n                            uniqueLocations.add(location.trim());\n                        }\n                    });\n                    uniqueDates.add(internship.date_posted);\n                });\n                // Sort and set options\n                setCompanies([\n                    \"All\",\n                    ...Array.from(uniqueCompanies).sort()\n                ]);\n                setLocations([\n                    \"All\",\n                    ...Array.from(uniqueLocations).sort()\n                ]);\n                setDatePosted([\n                    \"All\",\n                    ...Array.from(uniqueDates).sort()\n                ]);\n            } catch (error) {\n                console.error(\"Error fetching filter options:\", error);\n            }\n        };\n        fetchOptions();\n    }, []);\n    return {\n        companies,\n        locations,\n        datePosted\n    };\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxrQ0FBa0NBO1lBQ2xEO1FBQ0Y7UUFFQW1JO0lBQ0YsR0FBRyxFQUFFO0lBRUwsT0FBTztRQUFFTDtRQUFXN0Y7UUFBV2dHO0lBQVc7QUFDNUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL2xpYi9ob29rcy50cz9kMWMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHN1cGFiYXNlIH0gZnJvbSAnLi9zdXBhYmFzZUNsaWVudCdcbmltcG9ydCB0eXBlIHsgSW50ZXJuc2hpcCwgVXNlciwgU2F2ZWRJbnRlcm5zaGlwLCBGaWx0ZXJTdGF0ZSB9IGZyb20gJy4uL3R5cGVzJ1xuLy8gVGVtcG9yYXJpbHkgaW1wb3J0IHNhbXBsZSBkYXRhIGZvciB0ZXN0aW5nXG5pbXBvcnQgc2FtcGxlRGF0YSBmcm9tICcuL3NhbXBsZS1kYXRhLmpzb24nXG5cbi8vIEhvb2sgZm9yIGZldGNoaW5nIGludGVybnNoaXBzIHdpdGggZmlsdGVyc1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUludGVybnNoaXBzKGZpbHRlcnM6IEZpbHRlclN0YXRlKSB7XG4gIGNvbnN0IFtpbnRlcm5zaGlwcywgc2V0SW50ZXJuc2hpcHNdID0gdXNlU3RhdGU8SW50ZXJuc2hpcFtdPihbXSlcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZmV0Y2hJbnRlcm5zaGlwcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHNldExvYWRpbmcodHJ1ZSlcbiAgICAgICAgc2V0RXJyb3IobnVsbClcblxuICAgICAgICAvLyBGZXRjaCBmcm9tIFN1cGFiYXNlIGRhdGFiYXNlXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2ludGVybnNoaXBzJylcbiAgICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgICAuZXEoJ2lzX2FjdGl2ZScsIHRydWUpXG4gICAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG5cbiAgICAgICAgbGV0IGZpbHRlcmVkOiBhbnlbXSA9IFtdXG4gICAgICAgIFxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBpbnRlcm5zaGlwczonLCBlcnJvcilcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBzYW1wbGUgZGF0YSBpZiBkYXRhYmFzZSBmYWlsc1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdGYWxsaW5nIGJhY2sgdG8gc2FtcGxlIGRhdGEnKVxuICAgICAgICAgIGNvbnN0IGZvcm1hdHRlZEludGVybnNoaXBzID0gc2FtcGxlRGF0YS5pbnRlcm5zaGlwcy5tYXAoKGludGVybnNoaXAsIGluZGV4KSA9PiAoe1xuICAgICAgICAgICAgLi4uaW50ZXJuc2hpcCxcbiAgICAgICAgICAgIGlkOiBgc2FtcGxlXyR7aW5kZXh9YCxcbiAgICAgICAgICAgIGlzX2FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGxhc3Rfc2VlbjogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgIH0pKVxuICAgICAgICAgIGZpbHRlcmVkID0gZm9ybWF0dGVkSW50ZXJuc2hpcHNcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGxvYWRlZCAke2RhdGE/Lmxlbmd0aCB8fCAwfSBpbnRlcm5zaGlwcyBmcm9tIGRhdGFiYXNlYClcbiAgICAgICAgICBmaWx0ZXJlZCA9IGRhdGEgfHwgW11cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFwcGx5IGNsaWVudC1zaWRlIGZpbHRlcnNcbiAgICAgICAgaWYgKGZpbHRlcnMuY2F0ZWdvcnkgJiYgZmlsdGVycy5jYXRlZ29yeSAhPT0gJ0FsbCcpIHtcbiAgICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihpID0+IGkuY2F0ZWdvcnkgPT09IGZpbHRlcnMuY2F0ZWdvcnkpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVycy5jaXRpemVuc2hpcCAmJiBmaWx0ZXJzLmNpdGl6ZW5zaGlwID09PSAnbm9fY2l0aXplbnNoaXAnKSB7XG4gICAgICAgICAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoaSA9PiAhaS5yZXF1aXJlc19jaXRpemVuc2hpcClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWx0ZXJzLnNwb25zb3JzaGlwICYmIGZpbHRlcnMuc3BvbnNvcnNoaXAgPT09ICdzcG9uc29yc2hpcF9vaycpIHtcbiAgICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihpID0+ICFpLm5vX3Nwb25zb3JzaGlwKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlcnMuZnJlc2htYW5fZnJpZW5kbHkpIHtcbiAgICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihpID0+IGkuaXNfZnJlc2htYW5fZnJpZW5kbHkpXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVycy5sb2NhdGlvbiAmJiBmaWx0ZXJzLmxvY2F0aW9uICE9PSAnQWxsJykge1xuICAgICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGkgPT4gXG4gICAgICAgICAgICBpLmxvY2F0aW9ucy5zb21lKChsb2M6IHN0cmluZykgPT4gbG9jLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVycy5sb2NhdGlvbi50b0xvd2VyQ2FzZSgpKSlcbiAgICAgICAgICApXG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsdGVycy5jb21wYW55ICYmIGZpbHRlcnMuY29tcGFueSAhPT0gJ0FsbCcpIHtcbiAgICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihpID0+IFxuICAgICAgICAgICAgaS5jb21wYW55LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZmlsdGVycy5jb21wYW55LnRvTG93ZXJDYXNlKCkpXG4gICAgICAgICAgKVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpbHRlcnMuZGF0ZV9wb3N0ZWQgJiYgZmlsdGVycy5kYXRlX3Bvc3RlZCAhPT0gJ0FsbCcpIHtcbiAgICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihpID0+IGkuZGF0ZV9wb3N0ZWQgPT09IGZpbHRlcnMuZGF0ZV9wb3N0ZWQpXG4gICAgICAgIH1cblxuICAgICAgICAvLyBBcHBseSBzb3J0aW5nIHdpdGggcHJpb3JpdHkgZm9yIG9wZW4gaW50ZXJuc2hpcHNcbiAgICAgICAgZmlsdGVyZWQuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgIC8vIEZpcnN0IHByaW9yaXR5OiBPcGVuIGludGVybnNoaXBzIGNvbWUgYmVmb3JlIGNsb3NlZCBvbmVzXG4gICAgICAgICAgaWYgKGEuaXNfY2xvc2VkICE9PSBiLmlzX2Nsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGEuaXNfY2xvc2VkID8gMSA6IC0xOyAvLyBPcGVuIChmYWxzZSkgY29tZXMgZmlyc3RcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2Vjb25kIHByaW9yaXR5OiBBcHBseSB1c2VyLXNlbGVjdGVkIHNvcnRpbmdcbiAgICAgICAgICBzd2l0Y2ggKGZpbHRlcnMuc29ydF9ieSkge1xuICAgICAgICAgICAgY2FzZSAnZGF0ZV9uZXdlc3QnOlxuICAgICAgICAgICAgICAvLyBTb3J0IGJ5IGRhdGUgcG9zdGVkIChuZXdlc3QgZmlyc3QpIC0gcGFyc2UgXCJTZXAgMDJcIiBmb3JtYXRcbiAgICAgICAgICAgICAgY29uc3QgZGF0ZUEgPSBuZXcgRGF0ZShgJHthLmRhdGVfcG9zdGVkfSAyMDI1YCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICBjb25zdCBkYXRlQiA9IG5ldyBEYXRlKGAke2IuZGF0ZV9wb3N0ZWR9IDIwMjVgKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgIHJldHVybiBkYXRlQiAtIGRhdGVBO1xuICAgICAgICAgICAgY2FzZSAnZGF0ZV9vbGRlc3QnOlxuICAgICAgICAgICAgICBjb25zdCBkYXRlQTIgPSBuZXcgRGF0ZShgJHthLmRhdGVfcG9zdGVkfSAyMDI1YCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICBjb25zdCBkYXRlQjIgPSBuZXcgRGF0ZShgJHtiLmRhdGVfcG9zdGVkfSAyMDI1YCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICByZXR1cm4gZGF0ZUEyIC0gZGF0ZUIyO1xuICAgICAgICAgICAgY2FzZSAnY29tcGFueV9heic6XG4gICAgICAgICAgICAgIHJldHVybiBhLmNvbXBhbnkubG9jYWxlQ29tcGFyZShiLmNvbXBhbnkpO1xuICAgICAgICAgICAgY2FzZSAnY29tcGFueV96YSc6XG4gICAgICAgICAgICAgIHJldHVybiBiLmNvbXBhbnkubG9jYWxlQ29tcGFyZShhLmNvbXBhbnkpO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzZXRJbnRlcm5zaGlwcyhmaWx0ZXJlZCk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gZmV0Y2ggaW50ZXJuc2hpcHMnKTtcbiAgICAgICAgc2V0SW50ZXJuc2hpcHMoW10pO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU2ltdWxhdGUgbmV0d29yayBkZWxheVxuICAgIHNldFRpbWVvdXQoZmV0Y2hJbnRlcm5zaGlwcywgMzAwKVxuICB9LCBbXG4gICAgZmlsdGVycy5jYXRlZ29yeSxcbiAgICBmaWx0ZXJzLmxvY2F0aW9uLFxuICAgIGZpbHRlcnMuY2l0aXplbnNoaXAsIFxuICAgIGZpbHRlcnMuc3BvbnNvcnNoaXAsXG4gICAgZmlsdGVycy5mcmVzaG1hbl9mcmllbmRseSxcbiAgICBmaWx0ZXJzLmNvbXBhbnksXG4gICAgZmlsdGVycy5kYXRlX3Bvc3RlZCxcbiAgICBmaWx0ZXJzLnNvcnRfYnksXG4gICAgZmlsdGVycy52aWV3X21vZGVcbiAgICAvLyBOb3RlOiBjb21wYW55X3NvcnRfYnkgaXMgb25seSB1c2VkIGluIENvbXBhbnlHcm91cFZpZXcsIG5vdCBoZXJlXG4gIF0pXG5cbiAgcmV0dXJuIHsgaW50ZXJuc2hpcHMsIGxvYWRpbmcsIGVycm9yLCByZWZldGNoOiAoKSA9PiB7fSB9XG59XG5cbi8vIEhvb2sgZm9yIGF1dGhlbnRpY2F0aW9uXG5leHBvcnQgZnVuY3Rpb24gdXNlQXV0aCgpIHtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyBHZXQgaW5pdGlhbCBzZXNzaW9uXG4gICAgY29uc3QgZ2V0U2Vzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpXG4gICAgICAgIGlmIChzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgICAgLy8gRmV0Y2ggdXNlciBwcm9maWxlXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgLmVxKCdpZCcsIHNlc3Npb24udXNlci5pZClcbiAgICAgICAgICAgIC5zaW5nbGUoKVxuICAgICAgICAgIHNldFVzZXIocHJvZmlsZSlcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBzZXNzaW9uOicsIGVycm9yKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTZXNzaW9uKClcblxuICAgIC8vIExpc3RlbiBmb3IgYXV0aCBjaGFuZ2VzXG4gICAgY29uc3QgeyBkYXRhOiB7IHN1YnNjcmlwdGlvbiB9IH0gPSBzdXBhYmFzZS5hdXRoLm9uQXV0aFN0YXRlQ2hhbmdlKFxuICAgICAgYXN5bmMgKGV2ZW50LCBzZXNzaW9uKSA9PiB7XG4gICAgICAgIGlmIChzZXNzaW9uPy51c2VyKSB7XG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBwcm9maWxlIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgLmVxKCdpZCcsIHNlc3Npb24udXNlci5pZClcbiAgICAgICAgICAgIC5zaW5nbGUoKVxuICAgICAgICAgIHNldFVzZXIocHJvZmlsZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRVc2VyKG51bGwpXG4gICAgICAgIH1cbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgIH1cbiAgICApXG5cbiAgICByZXR1cm4gKCkgPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKClcbiAgfSwgW10pXG5cbiAgY29uc3Qgc2lnbkluID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7IGVtYWlsLCBwYXNzd29yZCB9KVxuICAgIHJldHVybiB7IGVycm9yIH1cbiAgfVxuXG4gIGNvbnN0IHNpZ25VcCA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduVXAoeyBcbiAgICAgIGVtYWlsLCBcbiAgICAgIHBhc3N3b3JkLFxuICAgICAgb3B0aW9uczoge1xuICAgICAgICBlbWFpbFJlZGlyZWN0VG86IGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2BcbiAgICAgIH1cbiAgICB9KVxuICAgIHJldHVybiB7IGVycm9yIH1cbiAgfVxuXG4gIGNvbnN0IHNpZ25PdXQgPSBhc3luYyAoKSA9PiB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KClcbiAgICByZXR1cm4geyBlcnJvciB9XG4gIH1cblxuICByZXR1cm4geyB1c2VyLCBsb2FkaW5nLCBzaWduSW4sIHNpZ25VcCwgc2lnbk91dCB9XG59XG5cbi8vIEhvb2sgZm9yIHNhdmVkIGludGVybnNoaXBzXG5leHBvcnQgZnVuY3Rpb24gdXNlU2F2ZWRJbnRlcm5zaGlwcygpIHtcbiAgY29uc3QgW3NhdmVkSW50ZXJuc2hpcHMsIHNldFNhdmVkSW50ZXJuc2hpcHNdID0gdXNlU3RhdGU8U2F2ZWRJbnRlcm5zaGlwW10+KFtdKVxuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFNhdmVkSW50ZXJuc2hpcHMgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRMb2FkaW5nKHRydWUpXG4gICAgICAgIHNldEVycm9yKG51bGwpXG5cbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgndXNlcl9zYXZlZF9pbnRlcm5zaGlwcycpXG4gICAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgICAqLFxuICAgICAgICAgICAgaW50ZXJuc2hpcHMgKFxuICAgICAgICAgICAgICBjb21wYW55LFxuICAgICAgICAgICAgICByb2xlLFxuICAgICAgICAgICAgICBjYXRlZ29yeSxcbiAgICAgICAgICAgICAgbG9jYXRpb25zLFxuICAgICAgICAgICAgICBhcHBsaWNhdGlvbl9saW5rLFxuICAgICAgICAgICAgICBkYXRlX3Bvc3RlZFxuICAgICAgICAgICAgKVxuICAgICAgICAgIGApXG4gICAgICAgICAgLm9yZGVyKCdzYXZlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuXG4gICAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICAgICAgc2V0U2F2ZWRJbnRlcm5zaGlwcyhkYXRhIHx8IFtdKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHNldEVycm9yKGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGZldGNoIHNhdmVkIGludGVybnNoaXBzJylcbiAgICAgICAgc2V0U2F2ZWRJbnRlcm5zaGlwcyhbXSlcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hTYXZlZEludGVybnNoaXBzKClcbiAgfSwgW10pXG5cbiAgY29uc3Qgc2F2ZUludGVybnNoaXAgPSBhc3luYyAoaW50ZXJuc2hpcElkOiBzdHJpbmcsIG5vdGVzPzogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd1c2VyX3NhdmVkX2ludGVybnNoaXBzJylcbiAgICAgICAgLmluc2VydCh7XG4gICAgICAgICAgaW50ZXJuc2hpcF9pZDogaW50ZXJuc2hpcElkLFxuICAgICAgICAgIG5vdGVzLFxuICAgICAgICAgIGFwcGxpY2F0aW9uX3N0YXR1czogJ3NhdmVkJ1xuICAgICAgICB9KVxuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgICBcbiAgICAgIC8vIFJlZnJlc2ggc2F2ZWQgaW50ZXJuc2hpcHNcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJfc2F2ZWRfaW50ZXJuc2hpcHMnKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICAqLFxuICAgICAgICAgIGludGVybnNoaXBzIChcbiAgICAgICAgICAgIGNvbXBhbnksXG4gICAgICAgICAgICByb2xlLFxuICAgICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgICBsb2NhdGlvbnMsXG4gICAgICAgICAgICBhcHBsaWNhdGlvbl9saW5rLFxuICAgICAgICAgICAgZGF0ZV9wb3N0ZWRcbiAgICAgICAgICApXG4gICAgICAgIGApXG4gICAgICAgIC5vcmRlcignc2F2ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgIFxuICAgICAgc2V0U2F2ZWRJbnRlcm5zaGlwcyhkYXRhIHx8IFtdKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gc2F2ZSBpbnRlcm5zaGlwJyB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgdW5zYXZlSW50ZXJuc2hpcCA9IGFzeW5jIChpbnRlcm5zaGlwSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcl9zYXZlZF9pbnRlcm5zaGlwcycpXG4gICAgICAgIC5kZWxldGUoKVxuICAgICAgICAuZXEoJ2ludGVybnNoaXBfaWQnLCBpbnRlcm5zaGlwSWQpXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICAgIFxuICAgICAgc2V0U2F2ZWRJbnRlcm5zaGlwcyhwcmV2ID0+IFxuICAgICAgICBwcmV2LmZpbHRlcihzYXZlZCA9PiBzYXZlZC5pbnRlcm5zaGlwX2lkICE9PSBpbnRlcm5zaGlwSWQpXG4gICAgICApXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byB1bnNhdmUgaW50ZXJuc2hpcCcgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHVwZGF0ZUFwcGxpY2F0aW9uU3RhdHVzID0gYXN5bmMgKFxuICAgIGludGVybnNoaXBJZDogc3RyaW5nLCBcbiAgICBzdGF0dXM6IFNhdmVkSW50ZXJuc2hpcFsnYXBwbGljYXRpb25fc3RhdHVzJ11cbiAgKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVwZGF0ZURhdGE6IGFueSA9IHsgYXBwbGljYXRpb25fc3RhdHVzOiBzdGF0dXMgfVxuICAgICAgXG4gICAgICAvLyBBZGQgdGltZXN0YW1wIGZvciBhcHBsaWVkIHN0YXR1c1xuICAgICAgaWYgKHN0YXR1cyA9PT0gJ2FwcGxpZWQnKSB7XG4gICAgICAgIHVwZGF0ZURhdGEuYXBwbGllZF9hdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcl9zYXZlZF9pbnRlcm5zaGlwcycpXG4gICAgICAgIC51cGRhdGUodXBkYXRlRGF0YSlcbiAgICAgICAgLmVxKCdpbnRlcm5zaGlwX2lkJywgaW50ZXJuc2hpcElkKVxuXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgICBcbiAgICAgIHNldFNhdmVkSW50ZXJuc2hpcHMocHJldiA9PiBcbiAgICAgICAgcHJldi5tYXAoc2F2ZWQgPT4gXG4gICAgICAgICAgc2F2ZWQuaW50ZXJuc2hpcF9pZCA9PT0gaW50ZXJuc2hpcElkIFxuICAgICAgICAgICAgPyB7IC4uLnNhdmVkLCAuLi51cGRhdGVEYXRhIH1cbiAgICAgICAgICAgIDogc2F2ZWRcbiAgICAgICAgKVxuICAgICAgKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gdXBkYXRlIHN0YXR1cycgfVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGFkZE5vdGUgPSBhc3luYyAoaW50ZXJuc2hpcElkOiBzdHJpbmcsIG5vdGU6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcl9zYXZlZF9pbnRlcm5zaGlwcycpXG4gICAgICAgIC51cGRhdGUoeyBub3Rlczogbm90ZSB9KVxuICAgICAgICAuZXEoJ2ludGVybnNoaXBfaWQnLCBpbnRlcm5zaGlwSWQpXG5cbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICAgIFxuICAgICAgc2V0U2F2ZWRJbnRlcm5zaGlwcyhwcmV2ID0+IFxuICAgICAgICBwcmV2Lm1hcChzYXZlZCA9PiBcbiAgICAgICAgICBzYXZlZC5pbnRlcm5zaGlwX2lkID09PSBpbnRlcm5zaGlwSWQgXG4gICAgICAgICAgICA/IHsgLi4uc2F2ZWQsIG5vdGVzOiBub3RlIH1cbiAgICAgICAgICAgIDogc2F2ZWRcbiAgICAgICAgKVxuICAgICAgKVxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHJldHVybiB7IGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gYWRkIG5vdGUnIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBtYXJrTGlua0NsaWNrZWQgPSBhc3luYyAoc2F2ZWRJbnRlcm5zaGlwSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcl9zYXZlZF9pbnRlcm5zaGlwcycpXG4gICAgICAgIC51cGRhdGUoeyBcbiAgICAgICAgICBhcHBsaWNhdGlvbl9saW5rX2NsaWNrZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICBsaW5rX3ZlcmlmaWVkOiB0cnVlXG4gICAgICAgIH0pXG4gICAgICAgIC5lcSgnaWQnLCBzYXZlZEludGVybnNoaXBJZClcblxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgICAgXG4gICAgICBzZXRTYXZlZEludGVybnNoaXBzKHByZXYgPT4gXG4gICAgICAgIHByZXYubWFwKHNhdmVkID0+IFxuICAgICAgICAgIHNhdmVkLmlkID09PSBzYXZlZEludGVybnNoaXBJZCBcbiAgICAgICAgICAgID8geyBcbiAgICAgICAgICAgICAgICAuLi5zYXZlZCwgXG4gICAgICAgICAgICAgICAgYXBwbGljYXRpb25fbGlua19jbGlja2VkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgbGlua192ZXJpZmllZDogdHJ1ZSBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiBzYXZlZFxuICAgICAgICApXG4gICAgICApXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBtYXJrIGxpbmsgY2xpY2tlZCcgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7IFxuICAgIHNhdmVkSW50ZXJuc2hpcHMsIFxuICAgIGxvYWRpbmcsIFxuICAgIGVycm9yLCBcbiAgICBzYXZlSW50ZXJuc2hpcCwgXG4gICAgdW5zYXZlSW50ZXJuc2hpcCxcbiAgICB1cGRhdGVBcHBsaWNhdGlvblN0YXR1cyxcbiAgICBhZGROb3RlLFxuICAgIG1hcmtMaW5rQ2xpY2tlZFxuICB9XG59XG5cbi8vIEhvb2sgZm9yIGdldHRpbmcgaW50ZXJuc2hpcCBzdGF0c1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUludGVybnNoaXBTdGF0cygpIHtcbiAgY29uc3QgW3N0YXRzLCBzZXRTdGF0c10gPSB1c2VTdGF0ZTx7XG4gICAgdG90YWxfYWN0aXZlOiBudW1iZXJcbiAgICBmcmVzaG1hbl9mcmllbmRseV9jb3VudDogbnVtYmVyXG4gICAgY2F0ZWdvcmllczogQXJyYXk8eyBjYXRlZ29yeTogc3RyaW5nOyBjb3VudDogbnVtYmVyIH0+XG4gICAgbGFzdF91cGRhdGVkOiBzdHJpbmdcbiAgfSB8IG51bGw+KG51bGwpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBmZXRjaFN0YXRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKVxuXG4gICAgICAgIC8vIEdldCB0b3RhbCBjb3VudFxuICAgICAgICBjb25zdCB7IGNvdW50OiB0b3RhbENvdW50IH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdpbnRlcm5zaGlwcycpXG4gICAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgICAuZXEoJ2lzX2FjdGl2ZScsIHRydWUpXG5cbiAgICAgICAgLy8gR2V0IGZyZXNobWFuLWZyaWVuZGx5IGNvdW50XG4gICAgICAgIGNvbnN0IHsgY291bnQ6IGZyZXNobWFuQ291bnQgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2ludGVybnNoaXBzJylcbiAgICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxuICAgICAgICAgIC5lcSgnaXNfYWN0aXZlJywgdHJ1ZSlcbiAgICAgICAgICAuZXEoJ2lzX2ZyZXNobWFuX2ZyaWVuZGx5JywgdHJ1ZSlcblxuICAgICAgICAvLyBHZXQgY2F0ZWdvcnkgYnJlYWtkb3duXG4gICAgICAgIGNvbnN0IHsgZGF0YTogY2F0ZWdvcmllcyB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAucnBjKCdnZXRfY2F0ZWdvcnlfY291bnRzJylcblxuICAgICAgICBzZXRTdGF0cyh7XG4gICAgICAgICAgdG90YWxfYWN0aXZlOiB0b3RhbENvdW50IHx8IDAsXG4gICAgICAgICAgZnJlc2htYW5fZnJpZW5kbHlfY291bnQ6IGZyZXNobWFuQ291bnQgfHwgMCxcbiAgICAgICAgICBjYXRlZ29yaWVzOiBjYXRlZ29yaWVzIHx8IFtdLFxuICAgICAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzdGF0czonLCBlcnJvcilcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcoZmFsc2UpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hTdGF0cygpXG4gIH0sIFtdKVxuXG4gIHJldHVybiB7IHN0YXRzLCBsb2FkaW5nIH1cbn1cblxuLy8gSG9vayB0byBjaGVjayBpZiBpbnRlcm5zaGlwIGlzIHNhdmVkIGJ5IGN1cnJlbnQgdXNlclxuZXhwb3J0IGZ1bmN0aW9uIHVzZUlzU2F2ZWQoaW50ZXJuc2hpcElkOiBzdHJpbmcpIHtcbiAgY29uc3QgW2lzU2F2ZWQsIHNldElzU2F2ZWRdID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtsb2FkaW5nLCBzZXRMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBjaGVja0lmU2F2ZWQgPSBhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBSZW1vdmUgLnNpbmdsZSgpIHRvIGF2b2lkIDQwNiBlcnJvcnMgLSBqdXN0IGNoZWNrIGlmIGFueSBkYXRhIGV4aXN0c1xuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCd1c2VyX3NhdmVkX2ludGVybnNoaXBzJylcbiAgICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgICAgLmVxKCdpbnRlcm5zaGlwX2lkJywgaW50ZXJuc2hpcElkKVxuICAgICAgICAgIC5saW1pdCgxKVxuXG4gICAgICAgIC8vIE9ubHkgY29uc2lkZXIgaXQgYW4gZXJyb3IgaWYgaXQncyBub3QgYSBcIm5vIHJvd3NcIiBlcnJvclxuICAgICAgICBpZiAoZXJyb3IgJiYgZXJyb3IuY29kZSAhPT0gJ1BHUlNUMTE2Jykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNoZWNraW5nIHNhdmVkIHN0YXR1czonLCBlcnJvcilcbiAgICAgICAgfVxuXG4gICAgICAgIHNldElzU2F2ZWQoQm9vbGVhbihkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkpXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBTaWxlbnRseSBoYW5kbGUgZXJyb3JzIC0gYXNzdW1lIG5vdCBzYXZlZFxuICAgICAgICBzZXRJc1NhdmVkKGZhbHNlKVxuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaW50ZXJuc2hpcElkICYmIGludGVybnNoaXBJZCAhPT0gJ3NhbXBsZV8nKSB7XG4gICAgICBjaGVja0lmU2F2ZWQoKVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEb24ndCBxdWVyeSBmb3IgaW52YWxpZCBJRHNcbiAgICAgIHNldElzU2F2ZWQoZmFsc2UpXG4gICAgICBzZXRMb2FkaW5nKGZhbHNlKVxuICAgIH1cbiAgfSwgW2ludGVybnNoaXBJZF0pXG5cbiAgcmV0dXJuIHsgaXNTYXZlZCwgbG9hZGluZyB9XG59XG5cbi8vIEhvb2sgdG8gZXh0cmFjdCBkeW5hbWljIGZpbHRlciBvcHRpb25zIGZyb20gZGF0YVxuZXhwb3J0IGZ1bmN0aW9uIHVzZUZpbHRlck9wdGlvbnMoKSB7XG4gIGNvbnN0IFtjb21wYW5pZXMsIHNldENvbXBhbmllc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oWydBbGwnXSlcbiAgY29uc3QgW2xvY2F0aW9ucywgc2V0TG9jYXRpb25zXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbJ0FsbCddKVxuICBjb25zdCBbZGF0ZVBvc3RlZCwgc2V0RGF0ZVBvc3RlZF0gPSB1c2VTdGF0ZTxzdHJpbmdbXT4oWydBbGwnXSlcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoT3B0aW9ucyA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIEZldGNoIGZyb20gU3VwYWJhc2UgZGF0YWJhc2VcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnaW50ZXJuc2hpcHMnKVxuICAgICAgICAgIC5zZWxlY3QoJ2NvbXBhbnksIGxvY2F0aW9ucywgZGF0ZV9wb3N0ZWQnKVxuICAgICAgICAgIC5lcSgnaXNfYWN0aXZlJywgdHJ1ZSlcblxuICAgICAgICBpZiAoZXJyb3IgfHwgIWRhdGEpIHtcbiAgICAgICAgICAvLyBGYWxsYmFjayB0byBzYW1wbGUgZGF0YVxuICAgICAgICAgIGNvbnN0IHVuaXF1ZUNvbXBhbmllcyA9IG5ldyBTZXQ8c3RyaW5nPigpXG4gICAgICAgICAgY29uc3QgdW5pcXVlTG9jYXRpb25zID0gbmV3IFNldDxzdHJpbmc+KClcbiAgICAgICAgICBjb25zdCB1bmlxdWVEYXRlcyA9IG5ldyBTZXQ8c3RyaW5nPigpXG5cbiAgICAgICAgICBzYW1wbGVEYXRhLmludGVybnNoaXBzLmZvckVhY2goKGludGVybnNoaXApID0+IHtcbiAgICAgICAgICAgIHVuaXF1ZUNvbXBhbmllcy5hZGQoaW50ZXJuc2hpcC5jb21wYW55KVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBZGQgZWFjaCBsb2NhdGlvblxuICAgICAgICAgICAgaW50ZXJuc2hpcC5sb2NhdGlvbnMuZm9yRWFjaCgobG9jYXRpb24pID0+IHtcbiAgICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnRyaW0oKSAmJiAhbG9jYXRpb24uaW5jbHVkZXMoJ2xvY2F0aW9ucycpKSB7IC8vIEZpbHRlciBvdXQgXCJYIGxvY2F0aW9uc1wiIGVudHJpZXNcbiAgICAgICAgICAgICAgICB1bmlxdWVMb2NhdGlvbnMuYWRkKGxvY2F0aW9uLnRyaW0oKSlcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdW5pcXVlRGF0ZXMuYWRkKGludGVybnNoaXAuZGF0ZV9wb3N0ZWQpXG4gICAgICAgICAgfSlcblxuICAgICAgICAgIC8vIFNvcnQgYW5kIHNldCBvcHRpb25zXG4gICAgICAgICAgc2V0Q29tcGFuaWVzKFsnQWxsJywgLi4uQXJyYXkuZnJvbSh1bmlxdWVDb21wYW5pZXMpLnNvcnQoKV0pXG4gICAgICAgICAgc2V0TG9jYXRpb25zKFsnQWxsJywgLi4uQXJyYXkuZnJvbSh1bmlxdWVMb2NhdGlvbnMpLnNvcnQoKV0pXG4gICAgICAgICAgc2V0RGF0ZVBvc3RlZChbJ0FsbCcsIC4uLkFycmF5LmZyb20odW5pcXVlRGF0ZXMpLnNvcnQoKV0pXG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cblxuICAgICAgICAvLyBFeHRyYWN0IHVuaXF1ZSB2YWx1ZXMgZnJvbSBkYXRhYmFzZVxuICAgICAgICBjb25zdCB1bmlxdWVDb21wYW5pZXMgPSBuZXcgU2V0PHN0cmluZz4oKVxuICAgICAgICBjb25zdCB1bmlxdWVMb2NhdGlvbnMgPSBuZXcgU2V0PHN0cmluZz4oKVxuICAgICAgICBjb25zdCB1bmlxdWVEYXRlcyA9IG5ldyBTZXQ8c3RyaW5nPigpXG5cbiAgICAgICAgZGF0YS5mb3JFYWNoKChpbnRlcm5zaGlwKSA9PiB7XG4gICAgICAgICAgdW5pcXVlQ29tcGFuaWVzLmFkZChpbnRlcm5zaGlwLmNvbXBhbnkpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWRkIGVhY2ggbG9jYXRpb25cbiAgICAgICAgICBpbnRlcm5zaGlwLmxvY2F0aW9ucz8uZm9yRWFjaCgobG9jYXRpb246IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgaWYgKGxvY2F0aW9uLnRyaW0oKSAmJiAhbG9jYXRpb24uaW5jbHVkZXMoJ2xvY2F0aW9ucycpKSB7IC8vIEZpbHRlciBvdXQgXCJYIGxvY2F0aW9uc1wiIGVudHJpZXNcbiAgICAgICAgICAgICAgdW5pcXVlTG9jYXRpb25zLmFkZChsb2NhdGlvbi50cmltKCkpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgICBcbiAgICAgICAgICB1bmlxdWVEYXRlcy5hZGQoaW50ZXJuc2hpcC5kYXRlX3Bvc3RlZClcbiAgICAgICAgfSlcblxuICAgICAgICAvLyBTb3J0IGFuZCBzZXQgb3B0aW9uc1xuICAgICAgICBzZXRDb21wYW5pZXMoWydBbGwnLCAuLi5BcnJheS5mcm9tKHVuaXF1ZUNvbXBhbmllcykuc29ydCgpXSlcbiAgICAgICAgc2V0TG9jYXRpb25zKFsnQWxsJywgLi4uQXJyYXkuZnJvbSh1bmlxdWVMb2NhdGlvbnMpLnNvcnQoKV0pXG4gICAgICAgIHNldERhdGVQb3N0ZWQoWydBbGwnLCAuLi5BcnJheS5mcm9tKHVuaXF1ZURhdGVzKS5zb3J0KCldKVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZmlsdGVyIG9wdGlvbnM6JywgZXJyb3IpXG4gICAgICB9XG4gICAgfVxuXG4gICAgZmV0Y2hPcHRpb25zKClcbiAgfSwgW10pXG5cbiAgcmV0dXJuIHsgY29tcGFuaWVzLCBsb2NhdGlvbnMsIGRhdGVQb3N0ZWQgfVxufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInN1cGFiYXNlIiwic2FtcGxlRGF0YSIsInVzZUludGVybnNoaXBzIiwiZmlsdGVycyIsImludGVybnNoaXBzIiwic2V0SW50ZXJuc2hpcHMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJmZXRjaEludGVybnNoaXBzIiwiZGF0YSIsImZyb20iLCJzZWxlY3QiLCJlcSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiZmlsdGVyZWQiLCJjb25zb2xlIiwibG9nIiwiZm9ybWF0dGVkSW50ZXJuc2hpcHMiLCJtYXAiLCJpbnRlcm5zaGlwIiwiaW5kZXgiLCJpZCIsImlzX2FjdGl2ZSIsImxhc3Rfc2VlbiIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNyZWF0ZWRfYXQiLCJsZW5ndGgiLCJjYXRlZ29yeSIsImZpbHRlciIsImkiLCJjaXRpemVuc2hpcCIsInJlcXVpcmVzX2NpdGl6ZW5zaGlwIiwic3BvbnNvcnNoaXAiLCJub19zcG9uc29yc2hpcCIsImZyZXNobWFuX2ZyaWVuZGx5IiwiaXNfZnJlc2htYW5fZnJpZW5kbHkiLCJsb2NhdGlvbiIsImxvY2F0aW9ucyIsInNvbWUiLCJsb2MiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiY29tcGFueSIsImRhdGVfcG9zdGVkIiwic29ydCIsImEiLCJiIiwiaXNfY2xvc2VkIiwic29ydF9ieSIsImRhdGVBIiwiZ2V0VGltZSIsImRhdGVCIiwiZGF0ZUEyIiwiZGF0ZUIyIiwibG9jYWxlQ29tcGFyZSIsImVyciIsIkVycm9yIiwibWVzc2FnZSIsInNldFRpbWVvdXQiLCJ2aWV3X21vZGUiLCJyZWZldGNoIiwidXNlQXV0aCIsInVzZXIiLCJzZXRVc2VyIiwiZ2V0U2Vzc2lvbiIsInNlc3Npb24iLCJhdXRoIiwicHJvZmlsZSIsInNpbmdsZSIsInN1YnNjcmlwdGlvbiIsIm9uQXV0aFN0YXRlQ2hhbmdlIiwiZXZlbnQiLCJ1bnN1YnNjcmliZSIsInNpZ25JbiIsImVtYWlsIiwicGFzc3dvcmQiLCJzaWduSW5XaXRoUGFzc3dvcmQiLCJzaWduVXAiLCJvcHRpb25zIiwiZW1haWxSZWRpcmVjdFRvIiwid2luZG93Iiwib3JpZ2luIiwic2lnbk91dCIsInVzZVNhdmVkSW50ZXJuc2hpcHMiLCJzYXZlZEludGVybnNoaXBzIiwic2V0U2F2ZWRJbnRlcm5zaGlwcyIsImZldGNoU2F2ZWRJbnRlcm5zaGlwcyIsInNhdmVJbnRlcm5zaGlwIiwiaW50ZXJuc2hpcElkIiwibm90ZXMiLCJpbnNlcnQiLCJpbnRlcm5zaGlwX2lkIiwiYXBwbGljYXRpb25fc3RhdHVzIiwic3VjY2VzcyIsInVuc2F2ZUludGVybnNoaXAiLCJkZWxldGUiLCJwcmV2Iiwic2F2ZWQiLCJ1cGRhdGVBcHBsaWNhdGlvblN0YXR1cyIsInN0YXR1cyIsInVwZGF0ZURhdGEiLCJhcHBsaWVkX2F0IiwidXBkYXRlIiwiYWRkTm90ZSIsIm5vdGUiLCJtYXJrTGlua0NsaWNrZWQiLCJzYXZlZEludGVybnNoaXBJZCIsImFwcGxpY2F0aW9uX2xpbmtfY2xpY2tlZF9hdCIsImxpbmtfdmVyaWZpZWQiLCJ1c2VJbnRlcm5zaGlwU3RhdHMiLCJzdGF0cyIsInNldFN0YXRzIiwiZmV0Y2hTdGF0cyIsImNvdW50IiwidG90YWxDb3VudCIsImhlYWQiLCJmcmVzaG1hbkNvdW50IiwiY2F0ZWdvcmllcyIsInJwYyIsInRvdGFsX2FjdGl2ZSIsImZyZXNobWFuX2ZyaWVuZGx5X2NvdW50IiwibGFzdF91cGRhdGVkIiwidXNlSXNTYXZlZCIsImlzU2F2ZWQiLCJzZXRJc1NhdmVkIiwiY2hlY2tJZlNhdmVkIiwibGltaXQiLCJjb2RlIiwiQm9vbGVhbiIsInVzZUZpbHRlck9wdGlvbnMiLCJjb21wYW5pZXMiLCJzZXRDb21wYW5pZXMiLCJzZXRMb2NhdGlvbnMiLCJkYXRlUG9zdGVkIiwic2V0RGF0ZVBvc3RlZCIsImZldGNoT3B0aW9ucyIsInVuaXF1ZUNvbXBhbmllcyIsIlNldCIsInVuaXF1ZUxvY2F0aW9ucyIsInVuaXF1ZURhdGVzIiwiZm9yRWFjaCIsImFkZCIsInRyaW0iLCJBcnJheSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/lib/hooks.ts\n"));

/***/ })

});